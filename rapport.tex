\documentclass[a4paper,oneside,12pt]{article}

\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{eurosym}

\title{TASBot64\\Specifications}
\author{rcavadas, abureau,\\cmutti, lgillot-}

\begin{document}
\maketitle

\section{Functional purpose}
The TASBot64 is a device that plugs in a Nintendo 64 to play a pre-recorded Tool
Assisted Speedrun (TAS) input file, faking a gamepad.

A TAS is a speedrun (the completion of a video game in the shortest time
possible) whose inputs, that is to say the sequence of buttons pressing and
movements on the gamepad, are given frame-by-frame on an emulator.

Emulators enable techniques such as frame-by-frame operation, precise digital
and analog inputs, re-recording (saving and reloading the entire state of the
game at any moment) or even memory watching and disassembly.

Thanks to this, TASs showcase feats unattainable to the human player and often
feature blatant abuse of the game mechanisms, exploiting bugs in the games that
was not intended to receive such fast and improbable input.

If the emulator is needed to craft the input file, the sequence of inputs itself
however is perfectly valid and theorically could come from a real gamepad. Hence
the goal of the TASBot64, that is to perform a TAS on a real Nintendo 64 instead
of an emulator, thus validating that the TAS does not depend on any emulator
specificity.

\subsection{Features}
\begin{itemize}
\item Behave as a genuine Nintendo 64 gamepad
\item Read and play the Mupen64-rr input file format from a SD card
\item Allow selecting between different files on the SD
\item Allow selecting between 50Hz (Europe) and 60Hz (US and Japan) operation
\item Display the name of the current selected file
\item Display errors or unsupported features if they occur
\item Allow passthrough of a gamepad to the console to avoid frequent unplugging
\item Take its power from the Nintendo 64 (no power source required)
\end{itemize}

\subsection{Performances}
\begin{itemize}
\item The user must be able to choose between 4 different input files
\item The TASBot64 must support input files as big as 4GB
\item The output stream to the console must be fast enough so as to not miss a
  game frame: a complete input frame must be emited in less than a 60th of a
  second.
\item The output stream rate must not drift more than half a frame (at most 8ms)
  in a runtime of 24 hours
\item The delay between startup of console and first output frame must be
  shorter than 0.5s and must not vary more than a quarter of a frame (at most
  4ms) between runs
\item The latency between input and output during passthrough must be less than
  1 ms
\end{itemize}

\section{User manual}
\subsection{Foreword}

\subsection{Package content}

\subsection{Installation}
The TASBot64 is made up by two not separable parts: a parallelepiped PCB and a wire.

On the free-end of the wire you will find a controller adaptor which enables the connection between the TASBot and the N64 console.

On the other end you will find the PCB itself, on the upper side of it you will find:
\begin{itemize}
\item On your right, two Multiple-Selector Buttons:
		\begin{itemize}
		\item The "Mode" button is the topper one. This button allows you to chose between: "PASSTHROUGH" mode and "TAS" mode.
		\item The "Select-File" button, which is right under the "Mode" button, lets you toggle between the four different TAS which the TASBot is able to launch.
		\end{itemize}

\item On the middle middle-left, the Screen which displays:
		\begin{itemize}
		\item The name of the current file you are playing (if in "TAS" mode),
		\item The name of the file corresponding to the current "Select-File" button (if in "Passtrough" mode),
		\item Errors messages (if any).
		\end{itemize}

\item Two LEDs:
		\begin{itemize}
		\item A "Power" LED on the left side and near the top-left corner of the screen, which will be on if the TASBot is correctly connected with the console and if the console is on.
		\item A "Data" LED situated in the proximity of the wire, it will flash every time some input data is sent to the console.
		\end{itemize}
\end{itemize}

On the opposite side of where the PCB is connected with the wire you will find two ports:
\begin{itemize}
\item The SD port, the most near to the left one, where you can insert the SD card (non included) containing the TAS files.
\item The controller port, which is on the right of the SD location, enables you to plug-in a controller in case you want to play the game instead of launching a TAS (remember to switch the "Mode" button to the "PASSTHROUGH" mode in that case).
\end{itemize}

\subsection{Reading a TAS}
\subsubsection{Getting files (Mupen64 movies)}
First of all, you have to download at least one and up to four files to be read 
by your TASBot64 from the Internet to your SD card (not included). Such files 
can be found on specialized websites such as tasvideos.org
Once the files are loaded, insert your SD card into the adapted slot of the 
TASBot64.

Our tip: you may want to visit http://tasvideos.org/Movies-N64-Stars-Moons.html

Important: please notice that you must own the cartridge of the game you want 
to run the TAS.

Important: please notice that only .m64 files (Mupen64 movies) can be read by 
your TASBot64 so make sure to get these.

\subsubsection{Preparing the ground}
Every TAS has been created to run from a certain state of the game. You have to 
put your game cartridge in this specific state in order to run the TAS you've 
chosen. Generally this means deleting all data from the first file of the game 
cartridge but THIS MAY VARY FOR SOME OF THEM. In any case, we recommend to 
double check the TAS video (you will find links to these under the .m64 files 
on tasvideos.org) before starting a run.

\subsubsection{Running the TAS}
\begin{itemize}
\item Put the appropriate game cartridge into your Nintendo 64 system
\item Connect your TASBot64 to the first controller port of your Nintendo 64 
system
\item Switch the mode switch to TAS position
\item Switch the game selector switch to the appropriate position, regarding to 
the partition in which you uploaded the .m64 file to. The name of the selected 
game will briefly appear on the LCD screen
\item Turn your Nintendo 64 system on and enjoy the watch
\end{itemize}

\subsection{Passthrough mode}

\subsection{Errors and how to fix them}
\subsubsection{TAS mode}
\begin{itemize}
\item TAS doesn't start, no input play: check if the switch is on TAS mode
\item TAS seems desynchronized: check if the right game is selected, restart 
the game
\item TAS didn't finish the game : Check if the games is in right initial state 
at the launch
\end{itemize}

\subsubsection{Passthrough mode}
\begin{itemize}
\item The character moves itself : Check if the switch is on Passthrough
\item I can't move : Check if controller is connected.
\end{itemize}

\subsubsection{Error Code}
\begin{itemize}
\item Error 000 : insert SDCARD in the slot
\item Error 001 : Error while parsing TAS file, make sure the SDCARD is format 
in fat32 and the input file is .m64
\item Error 002 : SD card is empty, put a file in the SD card
\end{itemize}

\section{Protocols}
Faut qu'on reverse viteuf l√†

\section{Block diagram}

\section{Preliminary Bill of Materials}
\end{document}
